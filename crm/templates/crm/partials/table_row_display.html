{% load crm_extras %}
<tr id="row-{{ row_obj.id }}">
  {% for key in column_keys %}
    <td>{{ row_obj|get_attr:key }}</td>
  {% endfor %}

<td>
  {% if can_manage %}
    <button
      hx-get="{% url 'table_row_edit' selected.key row_obj.id %}"
      hx-target="#row-{{ row_obj.id }}"
      hx-swap="outerHTML">
      Edit
    </button>

    <form
      method="post"
      action="{% url 'table_delete_record' selected.key row_obj.id %}"
      style="display:inline;">
      {% csrf_token %}
      <button
        type="submit"
        onclick="return confirm('Are you sure you want to delete this record?');"
        class="btn-delete">
        Delete
      </button>
    </form>
  {% else %}
    -
  {% endif %}
</td>
</tr>
